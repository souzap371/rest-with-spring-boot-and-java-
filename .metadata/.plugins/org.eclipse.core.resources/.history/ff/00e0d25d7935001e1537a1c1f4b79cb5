package br.ufrn.imd.solicitacaurn.mkdata.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import br.com.mkapi.mkdata.domain.TiposAgendamento;

public interface TipoAgendamentoRepository extends JpaRepository<TiposAgendamento, Long> {


	@Query(value = "SELECT * FROM MKDATA.TIPOS_AGENDAMENTO ta \n"
			+ "WHERE ta.DESCRICAO ='CONSULTA EM CONSULTORIO' \n"
			+ "AND ta.ATIVO ='S' AND ta.CONSULTORIO_ID  = ?1", nativeQuery = true)
	public TiposAgendamento getTipoAgendamentoByConsultorio(Long idConsultorio);
	
	@Query(value = "SELECT * FROM MKDATA.TIPOS_AGENDAMENTO ta \n"
			+ "WHERE ta.DESCRICAO =?1 \n"
			+ "AND ta.ATIVO ='S' AND ta.CONSULTORIO_ID  = ?2", nativeQuery = true)
	public TiposAgendamento getTipoAgendamentoByConsultorioAndEspecialidade(String descricao, Long idConsultorio);
}
