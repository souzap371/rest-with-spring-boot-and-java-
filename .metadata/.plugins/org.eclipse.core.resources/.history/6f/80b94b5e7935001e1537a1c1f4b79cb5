package br.ufrn.imd.solicitacaurn.solus.repository;

import java.util.List;


import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import org.springframework.stereotype.Repository;

import br.com.mkapi.solus.domain.MunicipioSolus;


@Repository
public interface MunicipioSolusRepository extends JpaRepository<MunicipioSolus, Long>{

	@Query(value="select * from municipio_solus where uf = :uf and ativo=1 " + 
			" and sem_acento(UPPER(nome)) like sem_acento(UPPER('%' || :cidade || '%'))"+
			" order by nome asc ",nativeQuery = true)
	List<MunicipioSolus> findByUfAndNome(@Param("uf")String uf,@Param("cidade") String cidade);
	

	@Query(value="select * from municipio_solus where uf = :uf and ativo=1 " + 
			" order by nome asc ",nativeQuery = true)
	List<MunicipioSolus> findByUf(@Param("uf")String uf);
}
